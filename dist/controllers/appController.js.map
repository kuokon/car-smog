{"version":3,"file":"appController.js","sourceRoot":"","sources":["../../src/controllers/appController.ts"],"names":[],"mappings":"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","sourcesContent":["module MyApp {\n\n\n    export class MainController {\n        static $inject = [\n            'myService',\n            '$mdSidenav',\n            '$mdToast',\n            '$mdDialog',\n            '$mdMedia',\n            '$mdBottomSheet'\n        ];\n\n        constructor(private myService: MyService,\n                    private $mdSidenav: angular.material.ISidenavService,\n                    private $mdToast: angular.material.IToastService,\n                    private $mdDialog: angular.material.IDialogService,\n                    private $mdMedia: angular.material.IMedia,\n                    private $mdBottomSheet: angular.material.IBottomSheetService) {\n\n            var self = this;\n\n\n        }\n\n        form = {\n            carType: \"汽車\",\n            license: \"MM\",\n            signature: \"譚生\",\n            location: \"澳門宋玉生廣場 (近 宋玉生公園)\",\n\n        };\n\n        carTypes = [\"汽車\", \"電單車\", \"的士\", \"旅遊巴士\", \"貨車\", \"巴士\"];\n\n        locations = [\n            {id: \"塔石廣場\", address: \"澳門肥利喇亞美打大馬路 (近 塔石廣場)\"}\n            , {id: \"何賢公園\", address: \"澳門羅理基博士大馬路 (近 何賢公園)\"}\n            , {id: \"宋玉生公園\", address: \"澳門宋玉生廣場 (近 宋玉生公園)\"}\n            , {id: \"西灣大橋\", address: \"澳門西灣大橋 \"}\n            , {id: \"奧林匹克\", address: \"澳門奧林匹克大馬路 (近 奧林匹克 游泳館)\"}\n            , {id: \"水坑尾 麥當勞\", address: \"水坑尾街 (近 麥當勞)\"}\n            , {id: \"高士德 培正\", address: \"澳門高士德大馬路 (近 培正中學)\"}\n            , {id: \"觀音堂\", address: \"美副將大馬路 (近 觀音堂)\"}\n            , {id: \"關閘\", address: \"馬場北大馬路 (近 關閘)\"}\n            , {id: \"媽閣\", address: \"河邊新街 (近 媽閣)\"}\n            , {id: \"水塘\", address: \"友誼大馬路 (近 水塘)\"}\n            , {id: \"友誼大橋\", address: \"友誼大橋\"}\n            , {id: \"機場\", address: \"偉龍馬路 (近 機場)\"}\n            , {id: \"威尼斯人\", address: \"路氹連貫公路 (近 威尼斯人)\"}\n        ];\n\n\n        dateStr = null;\n\n        message: string = 'Hello World';\n        formScope: any;\n\n        makeEmailLink = function () {\n\n            var newLine = '%0D%0A';\n\n            var bodyTxt = '敬啟者：'\n                + newLine + newLine +\n                '   本人 投訴 ' + this.getCarType() + '(' + this.getLicense() + ') 在路上行走時排出很多黑煙.'\n                + newLine\n                + '        時間: ' + this.getDateTime() + newLine\n                + '        地點: ' + this.getLocation()\n\n                + newLine + newLine\n                + ' 為澳門空氣質量 及 市民健康 著想, 請強制 該車輛 檢查 排氣. ' + newLine\n\n                + newLine + newLine + newLine\n                + '謝謝.'\n                + newLine + ' 市民, 譚生' + newLine + ' ' + this.getDate();\n\n\n            bodyTxt.replace('\\n', '%0D%0A');\n\n            var subjectTxt = '投訴 ' + this.getCarType() + ' 煙霧 (' + this.getLicense() + ')';\n\n            var res = 'mailto:info@dsat.gov.mo?subject=' + subjectTxt + '&body=' + bodyTxt;\n\n\n            window.location.href = res;\n\n\n        };\n\n        parseLicense(license) {\n\n            var alpha = license.replace(/[^A-Za-z]/g, '');\n            var number = license.replace(/\\D/g, '');\n\n            var firstTwo = '';\n            if (alpha) {\n                if (alpha.length > 1) {\n                    firstTwo = alpha.slice(-2);\n                } else {\n                    firstTwo = alpha;\n                }\n            }\n            firstTwo = firstTwo.toUpperCase();\n\n            var lastPart = '..-..';\n\n            var res = firstTwo + ' ' + number;\n            if (this.isCar()) {\n                if (number && number.length > 3) {\n                    number = number.slice(-4);\n                    lastPart = number.substring(0, 2) + '-' + number.slice(-2);\n                }\n                res = firstTwo + ' ' + lastPart;\n            }\n\n\n            return res;\n\n\n        }\n\n        function\n\n        isCar() {\n\n            return this.form.carType != \"電單車\";\n        }\n\n        getLicense = function () {\n\n            return this.parseLicense(this.form.license);\n            //return 'MF-12-24';\n        };\n\n        getLocation = function () {\n\n            //return parseLicense(form.license);\n            //return 'MF-12-24';\n            return this.form.location;\n        };\n\n        getCarType = function () {\n            return this.form.carType;\n            //var res = form.carType == 1 ? '汽車' : '電單車';\n            //return res;\n        };\n\n        getDate = function () {\n\n            if (!this.dateStr) {\n                var date = new Date();\n                this.dateStr = date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate();\n            }\n\n            return this.dateStr;\n\n        };\n\n        getDateTime = function () {\n            var dateTimeStr = null;\n            var d = new Date();\n\n            dateTimeStr = (d.getFullYear() + '-' + (\"0\" + (d.getMonth() + 1)).slice(-2) + '-' + (\"0\" + d.getDate()).slice(-2)\n            + \" \" + (\"0\" + d.getHours()).slice(-2) + \":\" + (\"0\" + d.getMinutes()).slice(-2));\n\n            return dateTimeStr;\n\n        }\n\n\n\n\n    }\n\n}"]}